# Deeds App Prototype

A fast, modular prototype for the Deeds community impact app. It ships a Tailwind-powered onboarding flow, a lightweight dashboard, and Cloudflare Worker endpoints backed by D1 for persisting user profiles.

## Project structure

```
/deeds-app/
├── functions/_worker.js      # Cloudflare Worker with auth routes
├── migrations/               # D1 schema migrations
├── public/                   # Static frontend assets served by Workers Sites
│   ├── dashboard.html        # Post-login experience
│   ├── index.html            # Sign-up screen
│   ├── login.html            # Log-in screen
│   ├── script.js             # Client-side auth + dashboard hydration
│   └── styles.css            # Shared base styles
├── package.json              # Tooling + scripts
└── wrangler.toml             # Worker configuration (D1 binding + site bucket)
```

## Getting started

1. Install dependencies:

   ```bash
   npm install
   ```

2. Create a D1 database and apply migrations:

   ```bash
   wrangler d1 create deeds-app-db
   wrangler d1 migrations apply deeds-app-db --local --remote
   ```

   Update `wrangler.toml` with the database ID generated by Cloudflare.

3. Start the Worker locally with static assets:

   ```bash
   npm run start
   ```

   The dev server proxies `/api/auth/signup` and `/api/auth/login` to the Worker while serving the `public/` directory.

## Available scripts

```bash
npm run start   # wrangler dev
npm run deploy  # wrangler deploy
npm run lint    # prettier --check for frontend + worker sources
npm run format  # prettier --write for frontend + worker sources
```

## Authentication flow

- **Sign up**: POST `/api/auth/signup` with `{ name, email, password }` creates a profile in D1 after hashing the password.
- **Log in**: POST `/api/auth/login` with `{ email, password }` validates against stored hashes.
- **Client state**: `public/script.js` saves the returned profile in `localStorage` to hydrate the dashboard prototype.

This setup keeps the prototype ready for Cloudflare Workers deployment while giving you room to extend the data model and refine the UI.
